<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Random Há»c Sinh - Äua ThÃº Dá»… ThÆ°Æ¡ng</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #ffe6f0, #ffb6c1);
    margin: 0; padding: 20px;
    text-align: center;
    color: #5a2a47;
  }
  h1 {
    margin-bottom: 10px;
  }
  textarea {
    width: 80%;
    max-width: 600px;
    height: 150px;
    padding: 10px;
    font-size: 1.1rem;
    border-radius: 10px;
    border: 2px solid #ff69b4;
    resize: vertical;
  }
  #raceArea {
    margin: 25px auto;
    width: 90%;
    max-width: 900px;
    background: #fff0f5;
    border-radius: 15px;
    padding: 20px;
    min-height: 300px;
    max-height: 600px;
    overflow-y: auto;
    box-shadow: 0 0 15px rgba(255,105,180,0.3);
    position: relative;
    overflow-x: hidden;
  }
  .runnerRow {
    display: flex;
    align-items: center;
    margin-bottom: 14px;
    position: relative;
    height: 60px;
  }
  .runnerName {
    width: 150px;
    text-align: left;
    font-weight: 600;
    font-size: 1.1rem;
    color: #bf2e74;
    user-select: none;
  }
  .runnerEmoji {
    position: absolute;
    left: 0;
    font-size: 40px;
    transition: transform 0.05s linear;
  }
  #buttons {
    margin-top: 20px;
  }
  button {
    background: #ff69b4;
    border: none;
    color: white;
    padding: 12px 25px;
    margin: 0 10px;
    font-size: 1rem;
    border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 3px 8px rgba(255,105,180,0.6);
    transition: background-color 0.3s;
  }
  button:hover:not(:disabled) {
    background: #d81e6e;
  }
  button:disabled {
    background: #ffc1dc;
    cursor: default;
  }
  /* Cute animal emojis for runners */
  /* Will pick randomly from this list */
</style>
</head>
<body>

<h1>ğŸ‰ Gá»i Ngáº«u NhiÃªn Há»c Sinh Báº±ng Äua ThÃº CÆ°ng ğŸ°ğŸ·ğŸ¨</h1>
<p>Nháº­p danh sÃ¡ch tÃªn há»c sinh, má»—i tÃªn má»™t dÃ²ng (tá»‘i Ä‘a 50). Báº¥m "Báº¯t Ä‘áº§u" Ä‘á»ƒ xem thÃº cÆ°ng nÃ o vá» Ä‘Ã­ch trÆ°á»›c nhÃ©!</p>

<textarea id="namesInput" placeholder="Nháº­p tÃªn há»c sinh vÃ o Ä‘Ã¢y, má»—i tÃªn trÃªn 1 dÃ²ng..."></textarea>

<div id="buttons">
  <button id="startBtn">ğŸš€ Báº¯t Ä‘áº§u</button>
  <button id="pauseBtn" disabled>â¸ï¸ Táº¡m dá»«ng</button>
  <button id="resetBtn" disabled>ğŸ”„ LÃ m má»›i</button>
</div>

<div id="raceArea" aria-live="polite" aria-atomic="true" aria-relevant="additions"></div>

<script>
  const animalEmojis = ['ğŸ°','ğŸ·','ğŸ¨','ğŸ¼','ğŸ¸','ğŸ¯','ğŸ¦Š','ğŸµ','ğŸ¶','ğŸ±','ğŸ¦„','ğŸ­','ğŸ¹','ğŸ»','ğŸ”','ğŸ´','ğŸ—','ğŸ','ğŸ¬','ğŸ¢'];
  const namesInput = document.getElementById('namesInput');
  const raceArea = document.getElementById('raceArea');
  const startBtn = document.getElementById('startBtn');
  const pauseBtn = document.getElementById('pauseBtn');
  const resetBtn = document.getElementById('resetBtn');

  let runners = [];
  let raceInterval = null;
  let paused = false;

  function createRunner(name, index) {
    const row = document.createElement('div');
    row.className = 'runnerRow';

    const nameLabel = document.createElement('div');
    nameLabel.className = 'runnerName';
    nameLabel.textContent = name;
    row.appendChild(nameLabel);

    const emoji = document.createElement('div');
    emoji.className = 'runnerEmoji';
    emoji.style.top = '10px';
    // random animal emoji by cycling through the list with index
    emoji.textContent = animalEmojis[index % animalEmojis.length];
    row.appendChild(emoji);

    raceArea.appendChild(row);

    return {
      name: name,
      runnerEmoji: emoji,
      position: 0,
      speed: 2 + Math.random() * 2 // speed random tá»« 2 Ä‘áº¿n 4 px má»—i tick
    };
  }

  function startRace() {
    if (raceInterval) return; // trÃ¡nh start liÃªn tá»¥c

    let names = namesInput.value.trim().split('\n').map(n => n.trim()).filter(n => n !== '');
    if (names.length === 0) {
      alert('Báº¡n chÆ°a nháº­p tÃªn há»c sinh!');
      return;
    }
    if (names.length > 50) {
      alert('Chá»‰ há»— trá»£ tá»‘i Ä‘a 50 há»c sinh, sáº½ láº¥y 50 tÃªn Ä‘áº§u tiÃªn.');
      names = names.slice(0, 50);
    }

    raceArea.innerHTML = '';
    runners = names.map(createRunner);

    paused = false;
    startBtn.disabled = true;
    pauseBtn.disabled = false;
    resetBtn.disabled = false;

    raceInterval = setInterval(() => {
      if (!paused) {
        runners.forEach(runner => {
          runner.position += runner.speed;
          if (runner.position > raceArea.clientWidth - 70) {
            runner.position = raceArea.clientWidth - 70;
            finishRace(runner);
          }
          runner.runnerEmoji.style.transform = `translateX(${runner.position}px)`;
        });
      }
    }, 50);
  }

  function finishRace(winner) {
    clearInterval(raceInterval);
    raceInterval = null;
    alert(`ğŸ‰ ChÃºc má»«ng há»c sinh Ä‘Æ°á»£c chá»n: ${winner.name}! ğŸ†`);
    startBtn.disabled = false;
    pauseBtn.disabled = true;
  }

  function pauseRace() {
    paused = !paused;
    pauseBtn.textContent = paused ? 'â–¶ï¸ Tiáº¿p tá»¥c' : 'â¸ï¸ Táº¡m dá»«ng';
  }

  function resetRace() {
    if (raceInterval) clearInterval(raceInterval);
    raceInterval = null;
    paused = false;
    runners = [];
    raceArea.innerHTML = '';
    startBtn.disabled = false;
    pauseBtn.disabled = true;
    resetBtn.disabled = true;
  }

  startBtn.addEventListener('click', startRace);
  pauseBtn.addEventListener('click', pauseRace);
  resetBtn.addEventListener('click', resetRace);
</script>

</body>
</html>
